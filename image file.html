<html>
	<head>
	</head>
</html>
<body>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
	<image height="100%" width="100%" xlink:href="mars2.png"></image>
	<circle cx="50" cy="50" r="40" stroke="black" stroke-width="3" fill="red" />
</svg>
</body>

<script>
var svg = document.querySelector( "svg" );
var svgData = new XMLSerializer().serializeToString( svg );

var canvas = document.createElement( "canvas" );
var ctx = canvas.getContext( "2d" );

var img = document.createElement( "img" );
img.setAttribute( "src", "data:image/svg+xml;base64," + btoa( svgData ) );

ctx.drawImage( img, 0, 0 );
var see_img = canvas.toDataURL( "image/png" );

document.write('<img style="width:50%" src="'+see_img+'"/>');

img.onload = function() {
    ctx.drawImage( img, 0, 0 );
    
    // Now is done
    //console.log( canvas.toDataURL( "image/png" ) );
	var see_img = canvas.toDataURL( "image/png" );

	var img1 = document.createElement( "img" );
	img1.setAttribute( "src", see_img );
};
</script>

